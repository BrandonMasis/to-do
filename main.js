(()=>{"use strict";function e(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(n){e(1,arguments);var s=Object.prototype.toString.call(n);return n instanceof Date||"object"===t(n)&&"[object Date]"===s?new Date(n.getTime()):"number"==typeof n||"[object Number]"===s?new Date(n):("string"!=typeof n&&"[object String]"!==s||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}const s=[{title:"Do laundry",description:"Wash, dry, and fold clothes",dueDate:new Date("2022-10-2"),priority:1,subtasks:[{title:"Wash clothes",isChecked:!0},{title:"Dry clothes",isChecked:!1},{title:"Fold clothes",isChecked:!0}],isChecked:!0,project:"Study chess",category:"Piece development"},{title:"Do laundry on nov3",description:"Wash, dry, and fold clothes",dueDate:new Date("2022-10-2"),priority:2,subtasks:[{title:"Wash clothes",isChecked:!0},{title:"Dry clothes",isChecked:!1},{title:"Fold clothes",isChecked:!0},{title:"Wash clothes",isChecked:!1},{title:"Dry clothes",isChecked:!0},{title:"Fold clothes",isChecked:!0}],isChecked:!1,project:"Study chess",category:"Piece development"},{title:"Noviembre 6 test",description:"Wash, dry, and fold clothes",dueDate:new Date("2022-11-12"),priority:4,subtasks:[{title:"Wash clothes",isChecked:!0},{title:"Dry clothes",isChecked:!1},{title:"Fold clothes",isChecked:!0},{title:"Wash clothes",isChecked:!1},{title:"Dry clothes",isChecked:!0},{title:"Fold clothes",isChecked:!0}],isChecked:!1,project:"Study chess",category:"Piece development"},{title:"Clean your room, itsumo today",description:"get real",dueDate:new Date,priority:4,subtasks:[{title:"Wash clothes",isChecked:!0},{title:"Dry clothes",isChecked:!1},{title:"Fold clothes",isChecked:!0},{title:"Wash clothes",isChecked:!1},{title:"Dry clothes",isChecked:!0},{title:"Fold clothes",isChecked:!0}],isChecked:!1,project:"Household chores",category:"Development"},{title:"Clean your room, itsumo today",description:"get real",dueDate:new Date,priority:4,subtasks:[{title:"Wash clothes",isChecked:!0},{title:"Dry clothes",isChecked:!1},{title:"Fold clothes",isChecked:!0},{title:"Wash clothes",isChecked:!1},{title:"Dry clothes",isChecked:!0},{title:"Fold clothes",isChecked:!0}],isChecked:!1,project:"Household chores",category:"Development"},{title:"Clean your room, itsumo today",description:"get real",dueDate:new Date,priority:4,subtasks:[{title:"Wash clothes",isChecked:!0},{title:"Dry clothes",isChecked:!1},{title:"Fold clothes",isChecked:!0},{title:"Wash clothes",isChecked:!1},{title:"Dry clothes",isChecked:!0},{title:"Fold clothes",isChecked:!0}],isChecked:!1,project:"Household chores",category:"Development"}],o=[{name:"Household chores",color:"#0f8cfa",total(){return s.filter((e=>e.project==`${this.name}`)).length},categories:["Introduction","Development","Conclusion"]},{name:"Study chess",color:"#FFFFFF",total(){return s.filter((e=>e.project==`${this.name}`)).length},categories:["Piece development","Watch hikaru","Reach 1000 elo"]}];function i(t){e(1,arguments);var s=n(t);return s.setHours(0,0,0,0),s}function a(t,n){e(2,arguments);var s=i(t),o=i(n);return s.getTime()===o.getTime()}function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var l={};function c(){return l}function d(t,s){var o,i,a,l,d,u,h,k;e(1,arguments);var p=c(),v=r(null!==(o=null!==(i=null!==(a=null!==(l=null==s?void 0:s.weekStartsOn)&&void 0!==l?l:null==s||null===(d=s.locale)||void 0===d||null===(u=d.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==a?a:p.weekStartsOn)&&void 0!==i?i:null===(h=p.locale)||void 0===h||null===(k=h.options)||void 0===k?void 0:k.weekStartsOn)&&void 0!==o?o:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=n(t),m=y.getDay(),g=(m<v?7:0)+m-v;return y.setDate(y.getDate()-g),y.setHours(0,0,0,0),y}function u(t,s){var o,i,a,l,d,u,h,k;e(1,arguments);var p=c(),v=r(null!==(o=null!==(i=null!==(a=null!==(l=null==s?void 0:s.weekStartsOn)&&void 0!==l?l:null==s||null===(d=s.locale)||void 0===d||null===(u=d.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==a?a:p.weekStartsOn)&&void 0!==i?i:null===(h=p.locale)||void 0===h||null===(k=h.options)||void 0===k?void 0:k.weekStartsOn)&&void 0!==o?o:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=n(t),m=y.getDay(),g=6+(m<v?-7:0)-(m-v);return y.setDate(y.getDate()+g),y.setHours(23,59,59,999),y}const h=new Date;function k(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0}function p(){return s.filter((t=>function(t){return e(1,arguments),a(t,Date.now())}(t.dueDate))).sort(k)}function v(e){return e.subtasks.filter((e=>1==e.isChecked)).length}const y=["January","February","March","April","May","June","July","August","September","October","November","December"];function m(e){return e.isChecked?"checked":""}function g(t,s,o){t.innerHTML+=`\n  <div class="task-container">\n  <div class="task" data-task-id="${s.id}">\n    <div>\n      <div class="task-check">\n        <div class="round checkp${s.priority}">\n          <input type="checkbox" class="checkbox" ${m(s)}  />\n          <label class="task-label"></label>\n        </div>\n      </div>\n      <div class="task-content">\n        <div class="task-title">${s.title}</div>\n        <div class="task-info">\n          <div>\n            <div class="task-duedate">${y[s.dueDate.getMonth()]} ${function(t){return e(1,arguments),n(t).getDate()}(s.dueDate)}</div>\n            <div>\n              <div class="progress-container">\n              <div class="progress-bar" style="width:${100/s.subtasks.length*v(s)}%;"></div>\n                <progress></progress>\n              </div>\n              <div class="progress-subtask">${v(s)}/${s.subtasks.length} Subtasks</div>\n            </div>\n          </div>\n          <p class="task-description">\n          ${s.description}\n          </p>\n        </div>\n      </div>\n    </div>\n    <div class="task-options">\n      <div><i class="fa-solid fa-xmark deleteTask"></i></div>\n      <div><i class="fa-solid fa-angle-down dropSubtasks"></i></div>\n    </div>\n  </div>\n\n  ${o}\n  <div class="new-subtask">+</div>\n  </div>`}function b(e){let t="";return null!=e.subtasks&&e.subtasks.forEach((n=>{t+=`\n    <div class="subtask" data-subtask-id="${n.id}">\n    <div class="task-check">\n      <div class="round checkp4">\n        <input type="checkbox" ${m(n)} class="checkbox" data-task-id="${e.id}"/>\n        <label class="subtask-label"></label>\n      </div>\n    </div>\n    <div class="task-content">\n      <div class="task-title">\n       ${n.title}\n      </div>\n    </div>\n    </div>\n  `})),t}const f='<div class="task-container">\n<div class="new-task">+</div>\n</div>\n</div>',D=document.querySelector("#today-option"),w=document.querySelector("#weekly-option"),C=document.querySelector("#projects-container");let S="today-option",E=[];function $(){let e=-1;s.forEach((t=>{let n=-1;e+=1,t.id=e,t.subtasks.forEach((e=>{n+=1,e.id=n}))}))}function q(){const e=document.querySelector("#today-option .optionTotal"),t=document.querySelector("#weekly-option .optionTotal");e.textContent=`${p().length}`,t.textContent=`${p().length}`}function j(){document.querySelectorAll(".new-task").forEach((e=>e.addEventListener("click",(()=>{let e=prompt("title"),t=prompt("description"),n=new Date,o=parseInt(prompt("1-4"));s.push({title:e,description:t,dueDate:n,priority:o,subtasks:[],isChecked:!1}),$(),T(S,E)}))))}function L(){document.querySelectorAll(".task-options div:nth-child(1)").forEach((e=>{e.addEventListener("click",(()=>{s.splice(e.parentElement.parentElement.getAttribute("data-task-id"),1),$(),T(S,E),q()}))}))}function T(e,t){"today-option"==e?(document.querySelector(".display-container").innerHTML='\n    <div class="section-title"><h2>Overdue</h2></div>\n\n    <div id="overdue-tasks" class="big-container"></div>\n      \n    <div class="section-title date-heading">\n      <h2>Today</h2>\n      <h4 id="actual-day">If you are reading, this something went wrong</h4>\n    </div>\n    <div id="today-tasks" class="big-container">\n     \n    </div>\n\n    <div class="new-task-project">pending</div>',function(){const e=document.querySelector("#today-tasks"),t=document.querySelector("#overdue-tasks");p().forEach((t=>{let n=b(t);g(e,t,n)})),e.innerHTML+=f,s.filter((e=>e.dueDate<h)).forEach((e=>{let n=b(e);g(t,e,n)})),t.innerHTML+=f}(),document.querySelector("#actual-day").textContent=`${y[d(new Date).getMonth()]} ${(new Date).getDate()}`):"weekly-option"==e?(document.querySelector(".display-container").innerHTML='<div class="section-title date-heading">\n  <h2>Weekly</h2>\n  <h4 id="actual-week">If you are reading, this something went wrong</h4>\n  </div>\n  <div id="weekly-tasks" class="big-container">\n  \n\n  </div>\n  </div>',function(){const e=document.querySelector("#weekly-tasks");s.filter((e=>e.dueDate>=d(h)&&e.dueDate<=u(h))).sort(k).forEach((t=>{let n=b(t);g(e,t,n)})),e.innerHTML+=f}(),document.querySelector("#actual-week").textContent=`${y[d(new Date).getMonth()]} ${d(new Date).getDate()} to ${y[u(new Date).getMonth()]} ${u(new Date).getDate()}`):(function(e,t){const n=document.querySelector(".display-container");n.innerHTML=`<div class="section-title project-heading">\n  <div class="square" style=background-color:${t.color}></div>\n  <h2>${t.name}</h2>\n  </div>`;for(let e=0;e<t.categories.length;e++)n.innerHTML+=`<div class="subtitle"><h3>${t.categories[e]}</h3></div>\n    <div data-project="${t.name}" data-category="${t.categories[e]}" class="big-container">`;n.innerHTML+=' <div class="subtitle new-subtitle">\n  <input type="text" name="" id="" placeholder="Add a subtitle +" />\n</div>'}(s.filter((t=>t.project==e)),t),function(e){let t=(n=e.name,s.filter((e=>e.project==n)).sort(k));var n;document.querySelectorAll(".big-container").forEach((e=>{let n=function(e,t){return e.filter((e=>e.category==`${t.getAttribute("data-category")}`))}(t,e);n.forEach((t=>{let n=b(t);g(e,t,n)})),e.innerHTML+=f}))}(t)),document.querySelectorAll(".dropSubtasks").forEach((e=>{e.parentElement.addEventListener("click",(t=>{let n=e.parentElement.parentElement.parentElement.parentElement;n.classList.contains("task-open")?(n.classList.remove("task-open"),e.style.cssText="transform: rotate(0deg)"):(n.classList.add("task-open"),e.style.cssText="transform: rotate(180deg)")}))})),j(),function(){const e=document.querySelectorAll(".task-label"),t=document.querySelectorAll(".subtask-label");e.forEach((e=>{e.addEventListener("click",(()=>{const t=e.parentElement.querySelector(".checkbox");let n=parseInt(t.parentElement.parentElement.parentElement.parentElement.getAttribute("data-task-id"));1==s[n].isChecked?(t.checked=!1,s[n].isChecked=!1):(t.checked=!0,s[n].isChecked=!0),console.log(p())}))})),t.forEach((e=>{e.addEventListener("click",(()=>{const t=e.parentElement.querySelector(".checkbox");let n=parseInt(t.getAttribute("data-task-id")),o=parseInt(t.parentElement.parentElement.parentElement.getAttribute("data-subtask-id"));1==s[n].subtasks[o].isChecked?(t.checked=!1,s[n].subtasks[o].isChecked=!1):(t.checked=!0,s[n].subtasks[o].isChecked=!0);let i=t.parentElement.parentElement.parentElement.parentElement.querySelector(".progress-subtask"),a=t.parentElement.parentElement.parentElement.parentElement.querySelector(".progress-bar");i.textContent=`${v(s[n])}/${s[n].subtasks.length} Subtasks`,a.style.width=100/s[n].subtasks.length*v(s[n])+"%"}))}))}(),L()}D.addEventListener("click",(()=>{S="today-option",T(S,E)})),w.addEventListener("click",(()=>{S="weekly-option",T(S,E)})),$(),o.forEach((e=>C.innerHTML+=`<div class="project" data-project="${e.name}"><div><span class="project-tag" style="background-color:${e.color}"></span> <h5>${e.name}</h5></div> <div class="optionTotal">${e.total()}</div></div>`)),document.querySelectorAll(".project").forEach((e=>{e.addEventListener("click",(()=>{E=o.filter((t=>t.name==`${e.getAttribute("data-project")}`))[0],S=`${e.getAttribute("data-project")}`,T(S,E)}))})),q(),T(S,E)})();