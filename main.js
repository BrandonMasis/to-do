(()=>{"use strict";function e(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(n){e(1,arguments);var i=Object.prototype.toString.call(n);return n instanceof Date||"object"===t(n)&&"[object Date]"===i?new Date(n.getTime()):"number"==typeof n||"[object Number]"===i?new Date(n):("string"!=typeof n&&"[object String]"!==i||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}const i=[{title:"Watch EGGS 101 by adam ragusea",description:"Starting with the basics",dueDate:new Date("2022-11-10"),priority:2,subtasks:[{title:"Become an omelette master",isChecked:!1},{title:"Try using butter",isChecked:!0}],isChecked:!0,project:"Learning to cook",category:"Tutorials"},{title:"Watch Steak 101",description:"Starting with the basics",dueDate:new Date("2022-11-18"),priority:1,subtasks:[{title:"Cook a Sirloin",isChecked:!1},{title:"Prime, grass-fed, choice... what was the difference?",isChecked:!0}],isChecked:!1,project:"Learning to cook",category:"Tutorials"},{title:"Spend 85$ on different cuts, and take notes about all the process, when preparing them",description:"Starting with the basics",dueDate:new Date("2022-11-18"),priority:3,subtasks:[],isChecked:!1,project:"Learning to cook",category:"Equipment"},{title:"Finish the contact me section",description:"",dueDate:new Date("2022-11-20"),priority:1,subtasks:[],isChecked:!1,project:"Portfolio",category:"Design ideas"},{title:"Real estate site",description:"",dueDate:new Date("2022-12-5"),priority:1,subtasks:[],isChecked:!1,project:"Portfolio",category:"Projects"},{title:"Productivity tracker",description:"",dueDate:new Date("2022-8-12"),priority:1,subtasks:[],isChecked:!0,project:"Portfolio",category:"Projects"},{title:"Finish the about me section",description:"",dueDate:new Date("2022-10-5"),priority:2,subtasks:[],isChecked:!0,project:"Portfolio",category:"Design"},{title:"Exercise today",description:"",dueDate:new Date,priority:1,subtasks:[],isChecked:!1,project:"",category:""},{title:"Read something",description:"",dueDate:new Date,priority:3,subtasks:[],isChecked:!1,project:"",category:""},{title:"RegEx practice",description:"",dueDate:new Date("2022-10-10"),priority:1,subtasks:[],isChecked:!1,project:"",category:""},{title:"Check the subtasks bellow, fast",description:"",dueDate:new Date,priority:1,subtasks:[{title:"Do it",isChecked:!1},{title:"Go faster",isChecked:!1},{title:"Keep checking them",isChecked:!1},{title:"Almost there",isChecked:!1},{title:"Just one more",isChecked:!1},{title:"the last one",isChecked:!1}],isChecked:!1,project:"",category:""}],a=[{name:"Learning to cook",color:"#fcc203",total(){return i.filter((e=>e.project==`${this.name}`)).length},categories:["Tutorials","Recipes","Equipment"]},{name:"Portfolio",color:"#24f06b",total(){return i.filter((e=>e.project==`${this.name}`)).length},categories:["Design","Projects","SEO"]}];function s(t){e(1,arguments);var i=n(t);return i.setHours(0,0,0,0),i}function o(t,n){e(2,arguments);var i=s(t),a=s(n);return i.getTime()===a.getTime()}function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var c={};function l(){return c}function d(t,i){var a,s,o,c,d,u,p,k;e(1,arguments);var h=l(),v=r(null!==(a=null!==(s=null!==(o=null!==(c=null==i?void 0:i.weekStartsOn)&&void 0!==c?c:null==i||null===(d=i.locale)||void 0===d||null===(u=d.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==o?o:h.weekStartsOn)&&void 0!==s?s:null===(p=h.locale)||void 0===p||null===(k=p.options)||void 0===k?void 0:k.weekStartsOn)&&void 0!==a?a:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=n(t),g=y.getDay(),b=(g<v?7:0)+g-v;return y.setDate(y.getDate()-b),y.setHours(0,0,0,0),y}function u(t,i){var a,s,o,c,d,u,p,k;e(1,arguments);var h=l(),v=r(null!==(a=null!==(s=null!==(o=null!==(c=null==i?void 0:i.weekStartsOn)&&void 0!==c?c:null==i||null===(d=i.locale)||void 0===d||null===(u=d.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==o?o:h.weekStartsOn)&&void 0!==s?s:null===(p=h.locale)||void 0===p||null===(k=p.options)||void 0===k?void 0:k.weekStartsOn)&&void 0!==a?a:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=n(t),g=y.getDay(),b=6+(g<v?-7:0)-(g-v);return y.setDate(y.getDate()+b),y.setHours(23,59,59,999),y}const p=new Date;function k(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0}function h(){return i.filter((t=>function(t){return e(1,arguments),o(t,Date.now())}(t.dueDate))).sort(k)}function v(e){return e.subtasks.filter((e=>1==e.isChecked)).length}const y=["January","February","March","April","May","June","July","August","September","October","November","December"];function g(e){return e.isChecked?"checked":""}function b(t,i,a){t.innerHTML+=`\n  <div class="task-container">\n  <div class="task" data-task-id="${i.id}">\n    <div>\n      <div class="task-check">\n        <div class="round checkp${i.priority}">\n          <input type="checkbox" class="checkbox" ${g(i)}  />\n          <label class="task-label"></label>\n        </div>\n      </div>\n      <div class="task-content">\n        <div class="task-title ${function(e){return e.isChecked?"marked-task":""}(i)}">${i.title}</div>\n        <div class="task-info">\n          <div>\n            <div class="task-duedate">${y[i.dueDate.getMonth()]} ${function(t){return e(1,arguments),n(t).getDate()}(i.dueDate)}</div>\n            <div>\n              <div class="progress-container">\n              <div class="progress-bar" style="width:${100/i.subtasks.length*v(i)}%;"></div>\n                <progress></progress>\n              </div>\n              <div class="progress-subtask">${v(i)}/${i.subtasks.length} Subtasks</div>\n            </div>\n          </div>\n          <p class="task-description">\n          ${i.description}\n          </p>\n        </div>\n      </div>\n    </div>\n    <div class="task-options">\n      <div><i class="fa-solid fa-xmark deleteTask"></i></div>\n      <div><i class="fa-solid fa-angle-down dropSubtasks"></i></div>\n    </div>\n  </div>\n\n  ${a}\n  <div class="new-subtask">+</div>\n  </div>`}function m(e){let t="";return null!=e.subtasks&&e.subtasks.forEach((n=>{t+=`\n    <div class="subtask" data-subtask-id="${n.id}">\n    <div class="task-check">\n      <div class="round checkp4">\n        <input type="checkbox" ${g(n)} class="checkbox" data-task-id="${e.id}"/>\n        <label class="subtask-label"></label>\n      </div>\n    </div>\n    <div class="task-content">\n      <div class="task-title">\n       ${n.title}\n      </div>\n    </div>\n    </div>\n  `})),t}const f='<div class="task-container">\n<div class="new-task">+</div>\n</div>\n</div>',w=document.querySelector("#today-option"),S=document.querySelector("#weekly-option"),E=document.querySelector("#projects-container");let D="today-option",q=[];function $(){E.innerHTML="",a.forEach((e=>E.innerHTML+=`<div class="project" data-project="${e.name}"><div><span class="project-tag" style="background-color:${e.color}"></span> <h5>${e.name}</h5></div> <div class="optionTotal">${e.total()}</div></div>`))}function C(){document.querySelectorAll(".project").forEach((e=>{e.addEventListener("click",(()=>{q=a.filter((t=>t.name==`${e.getAttribute("data-project")}`))[0],D=`${e.getAttribute("data-project")}`,A(D,q)}))}))}function L(){let e=-1;i.forEach((t=>{let n=-1;e+=1,t.id=e,t.subtasks.forEach((e=>{n+=1,e.id=n}))}))}function j(){const e=document.querySelector("#today-option .optionTotal"),t=document.querySelector("#weekly-option .optionTotal");e.textContent=`${h().length}`,t.textContent=`${h().length}`}function T(){document.querySelectorAll(".new-task").forEach((e=>e.addEventListener("click",(()=>{let e=prompt("title"),t=prompt("description"),n=new Date,a=parseInt(prompt("1-4")),s=prompt("project"),o=prompt("category");i.push({title:e,description:t,dueDate:n,priority:a,subtasks:[],isChecked:!1,project:s,category:o}),L(),A(D,q)}))))}function x(){document.querySelectorAll(".new-subtask").forEach((e=>e.addEventListener("click",(()=>{let t=prompt("title"),n=e.parentElement.querySelector(".task").getAttribute("data-task-id");i[n].subtasks.push({title:t,isChecked:!1}),L(),A(D,q),document.querySelector(`[data-task-id="${n}"]`).parentElement.classList.add("task-open"),console.log(i)}))))}function M(){document.querySelectorAll(".task-options div:nth-child(1)").forEach((e=>{e.addEventListener("click",(()=>{i.splice(e.parentElement.parentElement.getAttribute("data-task-id"),1),L(),A(D,q),j()}))}))}function A(e,t){"today-option"==e?(document.querySelector(".display-container").innerHTML='\n    <div class="section-title"><h2>Overdue</h2></div>\n\n    <div id="overdue-tasks" class="big-container"></div>\n      \n    <div class="section-title date-heading">\n      <h2>Today</h2>\n      <h4 id="actual-day">If you are reading, this something went wrong</h4>\n    </div>\n    <div id="today-tasks" class="big-container">\n     \n    </div>\n\n    ',function(){const e=document.querySelector("#today-tasks"),t=document.querySelector("#overdue-tasks");h().forEach((t=>{let n=m(t);b(e,t,n)})),e.innerHTML+=f,i.filter((e=>e.dueDate<p&&0==e.isChecked)).forEach((e=>{let n=m(e);b(t,e,n)}))}(),document.querySelector("#actual-day").textContent=`${y[d(new Date).getMonth()]} ${(new Date).getDate()}`):"weekly-option"==e?(document.querySelector(".display-container").innerHTML='<div class="section-title date-heading">\n  <h2>Weekly</h2>\n  <h4 id="actual-week">If you are reading, this something went wrong</h4>\n  </div>\n  <div id="weekly-tasks" class="big-container">\n  \n\n  </div>\n  </div>',function(){const e=document.querySelector("#weekly-tasks");i.filter((e=>e.dueDate>=d(p)&&e.dueDate<=u(p))).sort(k).forEach((t=>{let n=m(t);b(e,t,n)})),e.innerHTML+=f}(),document.querySelector("#actual-week").textContent=`${y[d(new Date).getMonth()]} ${d(new Date).getDate()} to ${y[u(new Date).getMonth()]} ${u(new Date).getDate()}`):(function(e,t){const n=document.querySelector(".display-container");n.innerHTML=`<div class="section-title project-heading">\n  <div class="square" style=background-color:${t.color}></div>\n  <h2>${t.name}</h2>\n  </div>`,n.innerHTML+='\n  \n  <div id="no-category" class="big-container"></div>\n',0==t.categories.length&&(n.innerHTML+='<div class="task-container">\n    <div class="new-task">+</div>\n    </div>\n    </div>');for(let e=0;e<t.categories.length;e++)n.innerHTML+=`<div class="subtitle"><h3>${t.categories[e]}</h3></div>\n    <div data-project="${t.name}" data-category="${t.categories[e]}" class="big-container category">`;n.innerHTML+='<div class="subtitle new-subtitle">\n<div>\n<input type="text" id="new-subtitle-btn" placeholder="Add a subtitle +" maxlength="50"/><i class="fa-solid fa-check"></i>\n</div>\n<div class="subtitle-character-count">\n<h4><span class="actual-count">0</span>/<span class="max-count">50</span></h4>\n</div>\n</div>'}(i.filter((t=>t.project==e)),t),function(e){let t=(n=e.name,i.filter((e=>e.project==n)).sort(k));var n;const a=document.querySelectorAll(".big-container.category "),s=document.querySelector("#no-category");t.filter((e=>""==e.category)).forEach((e=>{let t=m(e);b(s,e,t)})),a.forEach((e=>{let n=function(e,t){return e.filter((e=>e.category==`${t.getAttribute("data-category")}`))}(t,e);n.forEach((t=>{let n=m(t);b(e,t,n)})),e.innerHTML+=f}))}(t),H()),document.querySelectorAll(".dropSubtasks").forEach((e=>{e.parentElement.addEventListener("click",(t=>{let n=e.parentElement.parentElement.parentElement.parentElement;n.classList.contains("task-open")?(n.classList.remove("task-open"),e.style.cssText="transform: rotate(0deg)"):(n.classList.add("task-open"),e.style.cssText="transform: rotate(180deg)")}))})),T(),x(),function(){const e=document.querySelectorAll(".task-label"),t=document.querySelectorAll(".subtask-label");e.forEach((e=>{e.addEventListener("click",(()=>{const t=e.parentElement.querySelector(".checkbox");let n=t.parentElement.parentElement.parentElement.parentElement,a=parseInt(n.getAttribute("data-task-id"));1==i[a].isChecked?(t.checked=!1,i[a].isChecked=!1,n.querySelector(".task-title").classList.remove("marked-task")):(t.checked=!0,i[a].isChecked=!0,n.querySelector(".task-title").classList.add("marked-task"))}))})),t.forEach((e=>{e.addEventListener("click",(()=>{const t=e.parentElement.querySelector(".checkbox");let n=parseInt(t.getAttribute("data-task-id")),a=parseInt(t.parentElement.parentElement.parentElement.getAttribute("data-subtask-id"));1==i[n].subtasks[a].isChecked?(t.checked=!1,i[n].subtasks[a].isChecked=!1):(t.checked=!0,i[n].subtasks[a].isChecked=!0);let s=t.parentElement.parentElement.parentElement.parentElement.querySelector(".progress-subtask"),o=t.parentElement.parentElement.parentElement.parentElement.querySelector(".progress-bar");s.textContent=`${v(i[n])}/${i[n].subtasks.length} Subtasks`,o.style.width=100/i[n].subtasks.length*v(i[n])+"%"}))}))}(),M()}function H(){let e=document.querySelector(".new-subtitle"),t=document.querySelector("#new-subtitle-btn"),n=document.querySelector(".new-subtitle .actual-count"),i=e.querySelector("i");t.addEventListener("click",(()=>{e.classList.add("new-subtitle-open")})),t.addEventListener("input",(()=>{n.textContent=t.value.length})),i.addEventListener("click",(()=>{q.categories.push(document.querySelector("#new-subtitle-btn").value),A(D,q)}))}w.addEventListener("click",(()=>{D="today-option",A(D,q)})),S.addEventListener("click",(()=>{D="weekly-option",A(D,q)})),L(),$(),C(),j(),A(D,q),document.querySelector("#add-projects").addEventListener("click",(()=>{let e=prompt("Project name"),t=prompt("hex color");var n;a.push({name:n=e,color:t,categories:[],total:()=>i.filter((e=>e.project==`${n}`)).length}),$(),C()})),window.addEventListener("click",(e=>{if(null!=document.querySelector(".new-subtitle-open")){if(e.target.classList.contains("fa-check"))return;if("new-subtitle-btn"==e.target.id)return;document.querySelector("#new-subtitle-btn").value="",document.querySelector(".actual-count").textContent="0",document.querySelector(".new-subtitle-open").classList.remove("new-subtitle-open")}}))})();